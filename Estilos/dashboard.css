:root{
  --bg1: #070a12;
  --bg2: #0b1020;

  /* Glass m√°s legible */
  --glass: rgba(255,255,255,.07);
  --glass2: rgba(255,255,255,.10);
  --stroke: rgba(255,255,255,.14);

  /*  TEXTO (CORREGIDO PARA DARK) */
  --txt: rgba(233,238,245,.92);
  --muted: rgba(233,238,245,.72);
  --muted2: rgba(233,238,245,.55);

  /* Profundidad */
  --shadow: 0 18px 55px rgba(0,0,0,.55);
  --shadow2: 0 10px 26px rgba(0,0,0,.35);

  --radius: 22px;

  /* Accent */
  --accent: rgba(13,110,253,.92);
  --accentGlow: rgba(13,110,253,.25);

  /* Modal */
  --modalBg: rgba(16,18,26,.92);
  --modalBorder: rgba(255,255,255,.14);
  --modalTxt: var(--txt);
  --closeInvert: 1;

  --backdropA: rgba(13,110,253,.20);
  --backdropB: rgba(0,0,0,.86);
}

/* light theme */
html.theme-light,
body.theme-light{
  --bg1: #f3f6ff;
  --bg2: #eef2ff;

  --glass: rgba(0,0,0,.04);
  --glass2: rgba(0,0,0,.06);
  --stroke: rgba(0,0,0,.12);

  --txt: rgba(0,0,0,.88);
  --muted: rgba(0,0,0,.62);
  --muted2: rgba(0,0,0,.50);

  --shadow: 0 18px 50px rgba(0,0,0,.12);
  --shadow2: 0 10px 22px rgba(0,0,0,.10);

  --accent: rgba(13,110,253,.92);
  --accentGlow: rgba(13,110,253,.18);

  --modalBg: rgba(255,255,255,.94);
  --modalBorder: rgba(0,0,0,.12);
  --modalTxt: rgba(0,0,0,.88);
  --closeInvert: 0;

  --backdropA: rgba(13,110,253,.12);
  --backdropB: rgba(0,0,0,.45);
}

*{ box-sizing: border-box; }

/* ‚úÖ MUTED ahora respeta tema */
.muted{ color: var(--muted) !important; }
.tiny{ font-size: .84rem; }

::selection{
  background: color-mix(in srgb, var(--accent) 35%, transparent);
}

/* Mejor enfoque teclado */
:focus-visible{
  outline: 2px solid color-mix(in srgb, var(--accent) 70%, transparent);
  outline-offset: 2px;
}

/* fondo aurora */
.dash-body{
  min-height: 100vh;
  color: var(--txt);

  /* ‚úÖ un poquito m√°s ‚Äúluz‚Äù en dark (sin perder el mood) */
  background:
    radial-gradient(1200px 700px at 20% 15%, rgba(55,90,255,.26), transparent 60%),
    radial-gradient(900px 600px at 85% 30%, rgba(190,80,255,.22), transparent 55%),
    radial-gradient(900px 700px at 50% 90%, rgba(0,255,200,.12), transparent 55%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
}

/* ===== CARDS ===== */
.cardx{
  background: color-mix(in srgb, var(--glass2) 92%, transparent);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

.glass{
  background: color-mix(in srgb, var(--glass) 92%, transparent);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow2);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

.cardpad{ padding: 16px; }
.innerpad{ padding: 14px; border-radius: 18px; }
.sectiontitle{ font-weight: 800; font-size: 1.05rem; letter-spacing: .2px; }

.dashwrap{ padding: 18px 18px 46px; }

/* ===== TOP BAR ===== */
.topfb{
  position: sticky;
  top: 10px;
  z-index: 20;
  margin: 10px auto 0;
  width: min(1260px, 98vw);
}

/* contenedor top */
.topfb-inner{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 14px;
  padding: 10px 12px;
  flex-wrap: nowrap;
  border-radius: var(--radius);

  /* ‚úÖ m√°s contraste en dark para que NO se vea todo negro */
  background: color-mix(in srgb, var(--bg2) 62%, rgba(255,255,255,.06));
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow2);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
}

.topfb-left,
.topfb-center,
.topfb-right{
  display:flex;
  align-items:center;
  gap: 10px;
  min-width: 0;
}

.topfb-left{ flex: 1; gap: 12px; }
.topfb-brand{ display:flex; align-items:center; gap: .6rem; flex: 0 0 auto; }

.topfb-badge{
  width: 44px; height: 44px; flex: 0 0 44px;
  border-radius: 14px;
  display:flex; align-items:center; justify-content:center;
  overflow:hidden;
  background: rgba(255,255,255,.10);
  border: 1px solid var(--stroke);
  box-shadow: 0 8px 20px rgba(0,0,0,.28);
}

.topfb-logoimg{
  display:block;
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: 6px;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,.25));
}

/* search */
.topfb-search{
  flex: 1;
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 16px;
  background: color-mix(in srgb, var(--glass2) 82%, transparent);
  border: 1px solid var(--stroke);
  min-width: 0;
  transition: border-color .18s ease, box-shadow .18s ease, background .18s ease;
}

.topfb-search:focus-within{
  border-color: color-mix(in srgb, var(--accent) 55%, var(--stroke));
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--accentGlow) 70%, transparent);
  background: color-mix(in srgb, var(--glass2) 92%, transparent);
}

.topfb-search input{
  border: 0;
  outline: 0;
  width: 100%;
  background: transparent;
  color: var(--txt);
  min-width: 0;
}

.topfb-search input::placeholder{
  color: var(--muted2);
}

/* center tabs */
.topfb-center{ flex: 1; justify-content:center; }

.topfb-tab{
  width: 48px; height: 48px;
  border-radius: 16px;
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted);
  display:grid;
  place-items:center;
  text-decoration: none;
  transition: background .18s ease, color .18s ease, border-color .18s ease, transform .08s ease, box-shadow .18s ease;
}

.topfb-tab:hover{
  background: color-mix(in srgb, var(--glass2) 88%, transparent);
  color: var(--txt);
  transform: translateY(-1px);
}

.topfb-tab.active{
  background: color-mix(in srgb, var(--glass2) 96%, transparent);
  border-color: color-mix(in srgb, var(--accent) 35%, var(--stroke));
  color: var(--txt);
  box-shadow:
    0 0 0 4px color-mix(in srgb, var(--accentGlow) 55%, transparent),
    0 14px 30px rgba(0,0,0,.25);
}

/* right icons */
.topfb-right{ flex: 1; justify-content:flex-end; gap: 8px; }

.topfb-iconbtn{
  width: 40px; height: 40px;
  border-radius: 14px;
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--glass2) 82%, transparent);
  color: var(--txt);
  display:grid;
  place-items:center;
  transition: background .18s ease, transform .08s ease, box-shadow .18s ease, border-color .18s ease;
}

.topfb-iconbtn:hover{
  background: color-mix(in srgb, var(--glass2) 96%, transparent);
  transform: translateY(-1px);
  box-shadow: 0 12px 26px rgba(0,0,0,.22);
}

/* ===== LAYOUT 3 COLS ===== */
.layout3{
  display: grid;
  grid-template-columns: 320px minmax(560px, 680px) 360px;
  gap: 22px;
  align-items: start;
  justify-content: center;
  width: min(1260px, 98vw);
  margin: 18px auto 0;
}

.layout3--fb{
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  display: grid;
  gap: 18px;
  grid-template-columns: 320px minmax(640px, 1fr) 320px;
  align-items: start;
}

@media (min-width: 1600px){
  .layout3--fb{
    max-width: 1550px;
    gap: 22px;
    grid-template-columns: 340px minmax(720px, 1fr) 340px;
  }
}

.centercol{ min-width: 0; }
.stickycol{ position: sticky; top: 86px; }

/* ===== LEFT ===== */
.left-profile{ display:flex; align-items:center; gap: 12px; }

.avatarbig,
.avatarmini,
.avatar{
  background: rgba(255,255,255,.12);
  border: 1px solid var(--stroke);
}

.avatarbig{ width: 44px; height: 44px; border-radius: 16px; }
.avatarmini{ width: 34px; height: 34px; border-radius: 14px; }
.avatar{
  width: 36px; height: 36px; border-radius: 14px;
  display:grid; place-items:center; font-weight: 900;
}

.left-actions{ display:grid; gap: 10px; }

/* ‚úÖ Botones legibles */
.btn-soft{
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--glass2) 78%, transparent);
  color: var(--txt);
  border-radius: 16px;
  padding: 10px 12px;
  text-align: left;
  transition: background .18s ease, transform .08s ease, border-color .18s ease, box-shadow .18s ease;
}
.btn-soft:hover{
  background: color-mix(in srgb, var(--glass2) 96%, transparent);
  transform: translateY(-1px);
  box-shadow: 0 12px 26px rgba(0,0,0,.20);
}

.btn-danger-soft{
  border: 1px solid rgba(255,80,80,.28);
  background: rgba(255,80,80,.12);
  color: var(--txt);
  border-radius: 16px;
  padding: 10px 12px;
  text-align: left;
  transition: background .18s ease, transform .08s ease;
}
.btn-danger-soft:hover{ background: rgba(255,80,80,.18); transform: translateY(-1px); }

/* ===== CENTER ===== */
.composer-top{ display:flex; align-items:center; gap: 12px; }

.composer-input{
  flex: 1;
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--glass2) 82%, transparent);
  color: var(--muted);
  border-radius: 18px;
  padding: 12px 14px;
  transition: border-color .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease;
}
.composer-input:hover{ background: color-mix(in srgb, var(--glass2) 92%, transparent); color: var(--txt); }
.composer-input:focus-within,
.composer-input:focus{
  border-color: color-mix(in srgb, var(--accent) 55%, var(--stroke));
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--accentGlow) 70%, transparent);
  color: var(--txt);
}

/* ‚úÖ KPI m√°s claros en dark */
.kpis{ display:grid; grid-template-columns: repeat(4, 1fr); gap: 12px; }
.kpibox{
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--glass2) 76%, transparent);
  border-radius: 18px;
  padding: 12px;
  transition: background .18s ease, transform .08s ease;
}
.kpibox:hover{
  background: color-mix(in srgb, var(--glass2) 92%, transparent);
  transform: translateY(-1px);
}
.kpi-head{ display:flex; align-items:center; justify-content: space-between; color: var(--muted); }
.kpi-value{ font-size: 1.15rem; font-weight: 900; margin-top: 6px; letter-spacing: .2px; color: var(--txt); }
.kpi-ico{ opacity: .9; color: var(--muted); }

/* activity */
.activity{ display:grid; gap: 10px; }
.actitem{
  display:flex;
  gap: 10px;
  align-items:flex-start;
  padding: 12px;
  border-radius: 18px;
  background: color-mix(in srgb, var(--glass2) 76%, transparent);
  border: 1px solid var(--stroke);
  transition: background .18s ease, transform .08s ease;
}
.actitem:hover{
  background: color-mix(in srgb, var(--glass2) 92%, transparent);
  transform: translateY(-1px);
}
.actdot{ width: 9px; height: 9px; border-radius: 999px; background: rgba(255,255,255,.72); margin-top: 6px; }
.acttitle{ font-weight: 800; color: var(--txt); }

/* chips */
.chip{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(255,255,255,.08);
  font-size: .85rem;
  color: var(--txt);
}

/* ===== FORMS (LECTURA TOP) ===== */
.form-glass{
  background: color-mix(in srgb, var(--glass2) 86%, transparent) !important;
  border: 1px solid var(--stroke) !important;
  color: var(--txt) !important; /* ‚úÖ antes estaba raro */
  border-radius: 16px !important;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.05);
  transition: border-color .18s ease, box-shadow .18s ease, background .18s ease;
}
.form-glass::placeholder{ color: var(--muted2) !important; }

.form-glass:focus{
  border-color: color-mix(in srgb, var(--accent) 55%, var(--stroke)) !important;
  box-shadow:
    0 0 0 4px color-mix(in srgb, var(--accentGlow) 75%, transparent),
    inset 0 1px 0 rgba(255,255,255,.06) !important;
  background: color-mix(in srgb, var(--glass2) 96%, transparent) !important;
}

.form-control,
.form-select{ background: transparent; }
.form-control:focus,
.form-select:focus{ box-shadow: none; }

/* ===== MODAL ===== */
.modal-dark{
  background: var(--modalBg) !important;
  border: 1px solid var(--modalBorder) !important;
  border-radius: 18px !important;
  color: var(--modalTxt) !important;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}
.modal-dark .btn-close{
  filter: invert(var(--closeInvert));
  opacity: .65;
}
.modal-dark .btn-close:hover{ opacity: 1; }

.modal-backdrop.show{
  background: radial-gradient(circle at top, var(--backdropA), var(--backdropB));
  opacity: 1;
}

/* ===== TABLE (GLASS) ===== */
.table-glass{
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--glass2) 86%, transparent);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}
.table-glass-table{ margin: 0; color: var(--txt); }
.table-glass-table thead th{
  background: color-mix(in srgb, var(--glass2) 96%, transparent);
  color: var(--txt);
  border-bottom: 1px solid var(--stroke);
  font-weight: 800;
  padding: 14px 14px;
  white-space: nowrap;
}
.table-glass-table tbody td{
  border-top: 1px solid var(--stroke);
  padding: 14px 14px;
  vertical-align: middle;
}
.table-glass-table tbody tr:hover{
  background: color-mix(in srgb, var(--glass2) 92%, transparent);
}
.table > :not(caption) > * > *{ background-color: transparent; }

/* ===== RESPONSIVE ===== */
@media (max-width: 1200px){
  .layout3{ grid-template-columns: 300px minmax(520px, 640px) 340px; }
}

@media (max-width: 992px){
  .topfb{ position: static; width: 100%; margin: 0; }
  .topfb-inner{ flex-wrap: wrap; }
  .layout3{ grid-template-columns: 1fr; width: 100%; }
  .layout3--fb{ grid-template-columns: 1fr; }
  .stickycol{ position: static; }
  .kpis{ grid-template-columns: repeat(2, 1fr); }
}

/* ===== FULL WIDTH ===== */
.dashwrap--wide{
  width: 100%;
  max-width: none !important;
  padding: 22px 18px;
}

.welcome-center{
  text-align: center;
  width: 100%;
  max-width: 720px;
  margin: 0 auto;
}

.welcome-badges{
  display: inline-flex;
  gap: 10px;
  margin-top: 12px;
}

/* =========================
   FIX DESKTOP: TARJETAS QUE SE EXPANDEN SIN ENCIMARSE
   ========================= */
.dashwrap, .cardx, .glass{ overflow: visible; }

.services-wrap,
.services-grid,
.services-row,
.select-grid{
  overflow: visible !important;
  height: auto !important;
  min-height: 0 !important;
}

.service-card,
.service-item,
.select-item{
  position: relative;
  height: auto !important;
  min-height: 120px;
  display: flex;
  flex-direction: column;
}

.service-extra,
.service-details,
.select-extra,
.block-extra{
  position: static !important;
  inset: auto !important;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid color-mix(in srgb, var(--stroke) 85%, transparent);
}

/* =========================
   MEJOR LECTURA (TEXTOS / CHECKBOXES)
   ========================= */
.service-card h6,
.service-item h6,
.select-item h6,
.service-title{
  color: var(--txt);
  font-weight: 800;
  letter-spacing: .2px;
}

.service-card p,
.service-item p,
.select-item p,
.service-desc{
  color: var(--muted);
}

.service-card label,
.service-item label,
.select-item label{
  color: var(--txt);
  font-weight: 600;
}

.service-card input[type="checkbox"],
.service-item input[type="checkbox"],
.select-item input[type="checkbox"]{
  width: 16px;
  height: 16px;
  accent-color: color-mix(in srgb, var(--accent) 92%, white 8%);
  filter: drop-shadow(0 2px 6px rgba(0,0,0,.25));
}

.service-card input,
.service-item input,
.select-item input,
.service-card textarea,
.service-item textarea,
.select-item textarea{
  background: color-mix(in srgb, var(--glass2) 92%, transparent) !important;
  border: 1px solid color-mix(in srgb, var(--stroke) 95%, transparent) !important;
  color: var(--txt) !important;
}

/* =========================
   ACTIVO (SELECCIONADO) M√ÅS BONITO
   ========================= */
.service-card.is-active,
.service-item.is-active,
.select-item.is-active,
.service-card.active,
.service-item.active,
.select-item.active{
  border-color: color-mix(in srgb, var(--accent) 55%, var(--stroke)) !important;
  box-shadow:
    0 0 0 4px color-mix(in srgb, var(--accentGlow) 80%, transparent),
    var(--shadow2) !important;
}

@media (min-width: 992px){
  .services-grid,
  .select-grid{ row-gap: 18px; }

  .service-card,
  .service-item,
  .select-item{ padding-bottom: 12px; }
}

/* =========================
   EMPLEADO: DARK LEGIBILITY FIX (OVERRIDES)
   ========================= */

/* Fuerza texto claro en dark (sin afectar light) */
html:not(.theme-light) body,
html:not(.theme-light) .dash-body{
  color: var(--txt) !important;
}

/* T√≠tulos, labels y textos */
html:not(.theme-light) h1,
html:not(.theme-light) h2,
html:not(.theme-light) h3,
html:not(.theme-light) h4,
html:not(.theme-light) h5,
html:not(.theme-light) h6,
html:not(.theme-light) .fw-bold,
html:not(.theme-light) .fw-semibold,
html:not(.theme-light) .fw-black{
  color: var(--txt) !important;
}

/* Inputs/Select/Textarea: texto y placeholder legibles */
html:not(.theme-light) .form-control,
html:not(.theme-light) .form-select,
html:not(.theme-light) .input-group-text{
  color: var(--txt) !important;
  border-color: var(--stroke) !important;
}

html:not(.theme-light) .form-control::placeholder{
  color: var(--muted2) !important;
  opacity: 1;
}

html:not(.theme-light) .form-select option{
  color: #0b0f14; /* opciones del dropdown (porque el popup suele ser blanco) */
}

/* Tablas Bootstrap dark: fuerza legibilidad */
html:not(.theme-light) .table{
  color: var(--txt) !important;
}
html:not(.theme-light) .table thead th{
  color: var(--txt) !important;
}

/* Links */
html:not(.theme-light) a{
  color: color-mix(in srgb, var(--txt) 92%, var(--accent) 8%) !important;
}
html:not(.theme-light) a:hover{
  color: var(--txt) !important;
}

/* Alerts (que no se vean ‚Äúgris apagado‚Äù) */
html:not(.theme-light) .alert{
  color: var(--txt) !important;
  border-color: var(--stroke) !important;
}

/* Chips un poquito m√°s contrastados */
html:not(.theme-light) .chip{
  background: color-mix(in srgb, var(--glass2) 92%, transparent) !important;
  color: var(--txt) !important;
}

.dashwrap--wide{
  min-height: 100vh;
}

/* 2) Contenedor de 3 columnas con altura controlada (desktop) */
@media (min-width: 992px){
  /* Ajusta si tu topbar cambia */
  .h-fit{
    height: calc(100vh - 110px) !important;
  }
}

/* 3) Cualquier columna flex necesita min-height:0 para que scroll funcione */
.h-fit .col-lg-4,
.h-fit .col-lg-5,
.h-fit .col-lg-3{
  min-height: 0 !important;
}

/* 4) Paneles (glass) deben ‚Äúencerrar‚Äù su contenido */
.h-fit .glass{
  overflow: hidden;
}

/* 5) √Årea scrolleable interna */
.panel-scroll{
  min-height: 0 !important;
  overflow: auto !important;

  /* Scroll bonito */
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--stroke) 80%, transparent) transparent;
}
.panel-scroll::-webkit-scrollbar{ width: 10px; }
.panel-scroll::-webkit-scrollbar-thumb{
  background: color-mix(in srgb, var(--stroke) 80%, transparent);
  border-radius: 999px;
}
.panel-scroll::-webkit-scrollbar-track{ background: transparent; }

/* 6) Lista de √≥rdenes: que no crezca infinito */
#ordersList{
  padding-right: 4px;
}

/* 7) Detalle: que no rompa el layout */
#orderDetailBody{
  padding-right: 2px;
}

/* 8) Archivos sticky perfecto (desktop) */
@media (min-width: 992px){
  .sticky-col{
    position: sticky;
    top: 92px; /* debajo topbar */
  }
}

/* 9) Dropzone: estado hover/drag super bonito */
#dropzone{
  transition: border-color .18s ease, box-shadow .18s ease, transform .08s ease, background .18s ease;
}
#dropzone:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 30px rgba(0,0,0,.18);
  background: color-mix(in srgb, var(--glass2) 92%, transparent);
}
#dropzone.border-info{
  border-color: color-mix(in srgb, var(--accent) 55%, var(--stroke)) !important;
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--accentGlow) 70%, transparent);
}

/* 10) Orden seleccionada: hazla MUY clara */
#ordersList .cardx[data-oid]{
  cursor: pointer;
}
#ordersList .cardx[data-oid]:hover{
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--glass2) 92%, transparent);
}
#ordersList .cardx.border.border-info{
  border-color: color-mix(in srgb, var(--accent) 60%, var(--stroke)) !important;
  box-shadow:
    0 0 0 4px color-mix(in srgb, var(--accentGlow) 75%, transparent),
    var(--shadow2) !important;
}

/* 11) Evita ‚Äúsaltos‚Äù en inputs dentro de cards */
.form-control, .form-select{
  border-radius: 16px !important;
}
.input-group-text{
  border-radius: 16px 0 0 16px !important;
}

/* 12) Empty states centrados y sin empujar */
#ordersEmpty,
#orderFilesEmpty{
  margin-top: 8px;
}

@media (min-width: 992px){
  body.emp-page .glass,
  body.emp-page .cardx{
    overflow: hidden !important;
  }
}


/* =========================
   EMPLEADO ‚Äî UI UPGRADE PRO
   (Pegar al FINAL del CSS)
========================= */

/* Layout: m√°s centrado y con aire */
.layout3--fb{
  gap: 16px !important;
}

/* Panels: separaci√≥n m√°s pro */
.glass{
  border-radius: 24px !important;
}

/* T√≠tulos de panel con separaci√≥n limpia */
.panel-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  padding-bottom: 10px;
  margin-bottom: 12px;
  border-bottom: 1px solid color-mix(in srgb, var(--stroke) 85%, transparent);
}

/* Lista de √≥rdenes: scroll elegante + no se desborda */
#ordersList{
  max-height: calc(100vh - 360px);
  overflow: auto;
  padding-right: 4px;
}

/* Scrollbar bonito (Chromium/Edge) */
#ordersList::-webkit-scrollbar,
#orderFilesList::-webkit-scrollbar{
  width: 10px;
}
#ordersList::-webkit-scrollbar-thumb,
#orderFilesList::-webkit-scrollbar-thumb{
  background: color-mix(in srgb, var(--glass2) 85%, transparent);
  border: 1px solid var(--stroke);
  border-radius: 999px;
}
#ordersList::-webkit-scrollbar-track,
#orderFilesList::-webkit-scrollbar-track{
  background: transparent;
}

/* Cards de orden: m√°s premium */
#ordersList .cardx{
  box-shadow: 0 16px 40px rgba(0,0,0,.18) !important;
  transition: transform .12s ease, box-shadow .18s ease, border-color .18s ease;
}
#ordersList .cardx:hover{
  transform: translateY(-2px);
  box-shadow: 0 20px 55px rgba(0,0,0,.22) !important;
  border-color: color-mix(in srgb, var(--accent) 32%, var(--stroke));
}

/* Selecci√≥n: glow m√°s claro */
#ordersList .border-info{
  border-color: color-mix(in srgb, var(--accent) 58%, var(--stroke)) !important;
  box-shadow:
    0 0 0 4px color-mix(in srgb, var(--accentGlow) 75%, transparent),
    0 20px 55px rgba(0,0,0,.22) !important;
}

/* Detalle: header m√°s limpio */
.detail-top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 14px;
  padding-bottom: 12px;
  margin-bottom: 14px;
  border-bottom: 1px solid color-mix(in srgb, var(--stroke) 85%, transparent);
}
.detail-title{
  font-weight: 900;
  letter-spacing: .2px;
}
.detail-meta{
  color: var(--muted);
  font-size: .92rem;
}
.detail-pill{
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--glass2) 86%, transparent);
  display:inline-flex;
  gap: 8px;
  align-items:center;
}

/* Detalle: cards internas m√°s uniformes */
.detail-grid{
  display:grid;
  gap: 12px;
}
.detail-box{
  background: color-mix(in srgb, var(--glass2) 78%, transparent);
  border: 1px solid color-mix(in srgb, var(--stroke) 92%, transparent);
  border-radius: 18px;
  padding: 14px;
}
.detail-label{
  color: var(--muted);
  font-size: .85rem;
  margin-bottom: 6px;
}
.detail-value{
  font-weight: 800;
  color: var(--txt);
}

/* Notas: textarea m√°s pro */
#odInternalNotes{
  min-height: 120px;
  resize: vertical;
  border-radius: 18px !important;
}

/* Archivos: dropzone m√°s ‚Äúpremium‚Äù + estado */
#dropzone{
  border-radius: 20px !important;
  background:
    radial-gradient(900px 260px at 20% 10%, color-mix(in srgb, var(--accentGlow) 42%, transparent), transparent 55%),
    color-mix(in srgb, var(--glass2) 78%, transparent);
  border: 1px dashed color-mix(in srgb, var(--stroke) 92%, transparent) !important;
  transition: transform .12s ease, border-color .18s ease, box-shadow .18s ease, background .18s ease;
}
#dropzone:hover{
  transform: translateY(-2px);
  border-color: color-mix(in srgb, var(--accent) 45%, var(--stroke)) !important;
  box-shadow: 0 18px 45px rgba(0,0,0,.18);
}
#dropzone.border-info{
  border-color: color-mix(in srgb, var(--accent) 65%, var(--stroke)) !important;
  box-shadow: 0 0 0 4px color-mix(in srgb, var(--accentGlow) 78%, transparent);
}

/* Archivos: lista m√°s compacta */
#orderFilesList{
  max-height: calc(100vh - 470px);
  overflow: auto;
  padding-right: 4px;
}

/* Badge de ‚Äúorden seleccionada‚Äù en Archivos */
.files-selected{
  margin-top: 12px;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid var(--stroke);
  background: color-mix(in srgb, var(--glass2) 82%, transparent);
}

/* Responsive: altura de listas en m√≥vil */
@media (max-width: 992px){
  #ordersList, #orderFilesList{
    max-height: none;
    overflow: visible;
  }
}

.dashwrap, .cardx, .glass{ overflow: visible; }
    .doc-readonly { display: none !important; }
    .doc-disabled { pointer-events:none !important; opacity:.55 !important; filter:saturate(.85); }
    .line-clamp-2{
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }


/* =========================
   iOS TABBAR ‚Äî ORANGE GLASS
========================= */
.ios-tabbar{
  position: fixed;
  left: 12px;
  right: 12px;

  /* ‚úÖ FIX: baja un poco + respeta safe-area (iPhone/Edge m√≥vil) */
  bottom: calc(-10px + env(safe-area-inset-bottom));

  height: 72px;
  padding-bottom: env(safe-area-inset-bottom);

  display: flex;
  align-items: center;
  justify-content: space-around;

  z-index: 999;

  /* üçä fondo glass naranja */
  background:
    linear-gradient(
      180deg,
      rgba(223, 208, 192, 0.28),
      rgba(187, 177, 166, 0.18) 35%,
      rgba(175, 167, 158, 0.12)
    ),
    rgba(12,14,18,.55);

  backdrop-filter: blur(26px) saturate(180%);
  -webkit-backdrop-filter: blur(26px) saturate(180%);

  /* borde naranja glass */
  border: 1px solid rgba(250, 125, 41, 0.247);

  border-radius: 22px;

  box-shadow:
    0 18px 60px rgba(0, 0, 0, 0.144),
    inset 0 1px 0 rgba(255,255,255,.28),
    inset 0 -1px 0 rgba(0,0,0,.25);

  overflow: hidden;
}

/* brillo superior tipo iOS */
.ios-tabbar::before{
  content:"";
  position:absolute;
  inset:0;
  background:
    linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.212),
      rgba(255, 255, 255, 0.096) 30%,
      rgba(255,255,255,0) 60%
    );
  pointer-events:none;
}

/* =========================
   TAB
========================= */
.ios-tab{
  flex:1;
  height:100%;

  display:flex;
  align-items:center;
  justify-content:center;

  text-decoration:none;
  position:relative;

  color: rgba(255, 255, 255, 0.37);
  font-size:1.35rem;

  transition:
    transform .18s cubic-bezier(.2,.8,.2,1),
    color .2s ease;
}

.ios-tab i{
  transform: translateY(-1px);
}

/* =========================
   ACTIVE / HOVER ‚Äî BURBUJA GLASS
========================= */
.ios-tab.active::before,
.ios-tab:hover::before{
  content:"";
  position:absolute;
  inset: 10px 18px;
  border-radius: 18px;

  /* ü´ß burbuja transparente */
  background:
    linear-gradient(
      180deg,
      rgba(196, 169, 151, 0.11),
      rgba(214, 173, 146, 0.041) 45%,
      rgba(236, 188, 166, 0.247)
    );

  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);

  border: 1px solid rgba(255,255,255,.35);

  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.45),
    0 10px 28px rgba(0,0,0,.35);

  z-index:-1;
}

/* icono activo */
.ios-tab.active{
  color:#fff;
}

.ios-tab.active i{
  filter:
    drop-shadow(0 0 8px rgba(211, 164, 143, 0.55))
    drop-shadow(0 0 16px  rgba(224, 74, 4, 0.55));
}

/* =========================
   TAP EFFECT
========================= */
.ios-tab.tap-active{
  transform: scale(.94);
}




